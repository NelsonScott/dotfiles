#!/usr/bin/env bash
set -euo pipefail

if [[ -z "${HF_TOKEN:-}" ]]; then
    echo "Error: HF_TOKEN environment variable not set"
    exit 1
fi

whisperx "$1" \
    --model large-v2 \
    --compute_type float32 \
    --output_format txt \
    --diarize \
    --hf_token "$HF_TOKEN"